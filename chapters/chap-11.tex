% !TEX root = thesis.tex

\startcomponent chap-11
\environment common
\product thesis

\chapter[chap:conlusion]{Conclusion}

   This chapter summarizes the contributions of this thesis, discusses the
   strengths and limitations of our results, and discusses open issues and
   future research directions.
  
  \section {Summary of contributions}
  
    While engineering requirements, obstacles preventing the satisfaction of
    system objectives need be identified, assessed and controlled to produce
    more adequate, complete, consistent, and precise requirements. The
    model-based techniques presented in the thesis are intended to fill current
    gaps in the {\it obstacle assessment} and {\it control} steps by proposing
    a quantitative extension to an existing goal-oriented RE framework to
    integrate probabilistic goals and obstacles.

    For {\it obstacle assessment}, the thesis proposes a simple yet effective
    quantitative model-based technique. The KAOS framework is extended with a
    probabilistic layer allowing behavioral goals to be specified in terms of
    their {\it required} and {\it computed} satisfaction rates. This layout
    support probabilistic goals and probabilistic obstacles. Their satisfaction
    rate is precisely defined in terms of state probabilities; the latter
    capture the probability that the behaviors rooted in a system state satisfy
    a given assertion. The refinement structure and satisfaction arguments for
    non-probabilistic goals and obstacles is generalized accordingly
    
    Obstacles are assessed with respect to their lilkelihood and the severity
    of their consequences in terms of impact on the goal model. The
    satisfaction rate of non-leaf obstacles is determined by up-propagation in
    the corresponding obstacle refinement trees. The criticality of obstacles,
    in terms of severity of their consequences, is systematically determined by
    up-propagating the satisfaction rate of obstacles along the corresponding
    goal refinement trees. The thesis proposed two propagation algorithms for
    computing the satisfaction rate of high-level goals from the estimated
    satisfaction rate of leaf obstacles. The {\it BDD-based} propagation
    procedure is efficient when repeated propagations are required whereas the
    {\it pattern-based} propagation procedure is finer-grained at an increased
    specification cost. Most likely and critical obstacle combinations are then
    highlighted to guide the selection of countermeasures in the next {\it
    control} step.
    
    For {\it obstacle control} step, the thesis proposes techniques for
    selecting most appropriate countermeasures selection that guarantee the
    satisfaction of the {\it required} satisfaction rate of high-level goals in
    the goal refinement graph while minimizing the cost of obstacle resolution.
    An integration mechanism is defined as a model transformation that
    guarantees progress towards a more complete goal model, minimal changes to
    the original model, and preservation of the correctness of the refinements.
    Anchor goals define where the countermeasures goals should be integrated.
    Countermeasures then enrich the ideal goal model in a modular way with
    dedicated exception constructs. Refactoring operators allow the analyst to
    attach and detach those exceptions.
    
    Those techniques for {\it obstacle assessment} and {\it obstacle control}
    are extended to cope with knowledge uncertainty about satisfaction rates of
    probabilistic goals and their obstructing obstacles. The uncertainty
    margins on satisfaction rate estimates are captured as probability
    distributions. The impact of such uncertainty on the criticality of
    obstacles is quantified via two metrics, namely, the {\it goal violation
    uncertainty} and the {\it uncertainty spread}. The satisfaction rate of
    non-leaf obstacles and the satisfaction rate of goals, together with their
    uncertainty margins, are computed by repeated up-propagation through the
    goal/obstacle models. As a result, the critical obstacles with problematic
    uncertainty margins are highlighted. These problematic uncertainties may be
    reduced by combining multiple sources of estimates. Appropriate
    countermeasures may then be selected so as to guarantee the {\it required}
    satisfaction rate of high-level goals up to some uncertainty threshold.
  
    Lastly, the thesis proposes an obstacle-driven runtime system adaptation approach
    aimed at increasing the actual satisfaction rate of probabilistic system
    goals at runtime. Leaf obstacles together with their criticality are monitored at
    runtime to let the system dynamically switch to more appropriate
    countermeasures goals. The proposed monitoring technique extends an available
    non-probabilistic  approach \cite[Bau11] to support the monitoring of
    probabilistic assertions. Most appropriate countermeasures are selected
    on-the-fly to increase the satisfaction rate of the considered high-level goals under
     current conditions.
    
    All techniques proposed in the thesis are supported by a set of tools
    enabling their application on real case studies. The tools and techniques
    were evaluated on three realistic case studies: a car pooling system, an
    industrial yoke lifting system for proton therapy and an urban ambulance
    dispatching system.
    
  \section {Strengths and limitations}
    
    The main {\it strengths} of our techniques for obstacle assesment and
    control can be summarized as follows.
  
    \startitemize
  
      \item {\it Probabilistic goals enable the handling of properties required
      to hold in X\% of cases.} Probabilistic goals enable such requirements to
      be included as first-class citizens together with non-probabilistic ones,
      within the same goal-oriented RE framework.

      \item {\it Probabilistic obstacles enable precise risk assessment.}
      Probabilistic obstacles obstructing non-probabilistic goals or
      probabilistc ones allow for a precise assessment of the likelihood of
      requirements-related risks in the RE process.
    
      \item {\it Probabilistic goals and obstacles have a precise semantics
      anchored on real-world phenomena.} This semantics, in terms of behaviors
      refering to domain-specific phenomena, enables domain experts to estimate
      and interpret satisfaction rates of probabilistic obstacles and goals in
      domain-specific terms. The precise semantics also enables the monitoring
      of satisfaction rates at runtime (as seen in \in{Chapter}[runtime].)
    
      \item {\it Refinement trees on probabilistic obstacles provide a
      structure for the assessment of risk likelihood.} The satisfaction rate
      of non-leaf obstacles is systematically computed from the estimated
      satisfaction rates for leaf obstacles by up-propagation through the
      obstacle refinement trees. Only leaf obstacles need to be estimated by
      domain experts.
    
      \item {\it Refinement trees on probabilistic goal provide a structure for
      the assessment of obstacle criticality.} The consequences of an obstacle
      are captured in terms of decrease in the satisfaction rate goals in the
      goal model. The severity of such consequences is systematically
      determined by up-propagation of obstacle satisfaction rates through goal
      refinement trees. An obstacle is critical if the satisfaction rate of the
      considered goals fall below their required satisfaction rate.
    
      \item {\it The control of probabilistic obstacles guarantees progress
      towards complete models.} Valid countermeasures, as defined in
      \in{Section}[sec:identifying_cm], guarantee that the satisfaction rate of
      high-level goals increases when properly integrated in the original goal
      model. Integrating increasingly effective countermeasures results in
      high-level goals being increasingly satisfied.
    
      \item {\it Probabilistic goals and obstacles enable cost-effective
      selections of appropriate countermeasures.} Selecting most appropriate
      countermeasures amounts to solving an optimization problem where the
      satisfaction rate of high-level goals is maximized while the resolution
      cost is minimized.
    
      \item {\it The integration of countermeasures to probabilistic obstacles
      preserves the correctness of the goal refinement structure.} The
      propagation of required specification changes through the obstacle/goal
      models guarantees that the goal refinement graph remains complete,
      consistent and minimal (as seen in \in{Section}[sec:propagation]).
    
      \item {\it The integration in the goal model of countermeasures to
      probabilistic obstacles preserves all normal behaviors.} The two
      integration schemas introduced in \in{Section}[sec:integration_schema]
      guarantee that the goals not affected by the resolved obstacles are not
      modified. These schemas either replace anchor goals or refine them,
      leaving the rest of the goal model intact. Normal behaviors not impacted
      by the obstacle are thereby preserved.
    
      \item {\it The proposed exception handling mechanism separates ideal from
      exceptional cases.} The {\it Except}, {\it Provided} and {\it RelaxedTo}
      constructs presented in \in{Section}[sec:exception_handling] separate the
      specification of ideal cases from exceptional ones. The specification of
      ideal goals is thereby not cluttered with conditions related to
      exceptional cases.
    
      \item {\it The proposed exception mechanism enables incremental
      integration of countermeasures in the goal model.} Refactoring operators
      allows the analyst to attach and detach exceptions, thereby deferring the
      decision of what is exceptional from what is not to later stages of the
      requirement process.
    
      \item {\it This exception handling mechanism mitigates the combinatorial
      explosion of countermeasures.} The absence of such mechanism impact both
      the anchor goal specification and its refinement structure. Each
      countermeasure goal would need to be refined by taking other
      countermeasures into account. This would lead to a combinatorial blow-up
      of cases. Thanks to the {\it Except} and {\it Provided} constructs, the
      original specification of the anchor goal and its refinement structure
      are preserved.

      \item {\it The uncertainty about probabilistic goals/obstacles
      satisfaction is explicitely taken into account.} It allows domain experts
      to express uncertainty margins about estimates through probability
      distributions.
    
      \item {\it Two metrics allow for precisely measuring problematic
      uncertainties about goal satisfaction rates.} When applied to the
      probability distributions obtained by up-propagation to high-level goals
      in the goal graph, the metrics allow critical leaf obstacles with most
      problematic uncertainty margins to be highlighted.
    
      \item {\it Our framework supports multiple sources of estimation in order
      to reduce uncertainties.} Multiple sources for estimates are recognized
      to produce more accurate estimates \cite[Bed01]. Problematic uncertainty
      margins are reduced here by combining such multiple sources.
    
      \item {\it The satisfaction rate of probabilistic goals and obstacles is
      monitored at system runtime.} Monitors, built at RE time from the formal
      specification of leaf obstacles, are used to determine the actual
      satisfaction rate of leaf obstacles at runtime. The latter are propagated
      through the obstacle/goal model up to the systemâ€™s high-level goals in
      order to determine the actual criticality of those leaf obstacles.
    
      \item {\it Obstacle-driven runtime adaptations ensure that only those
      adaptation that are really required by the system specifications are
      performed.} Our approach selects most appropriate countermeasures. The
      latter maximize the satisfaction rate of high-level goals while
      minimizing the resolution cost. This guarantees that the required
      satisfaction rate of high-level goals remains satisfied when the obstacle
      satisfaction rates are changing.
    
      \item {\it The monitoring of probabilistic goals and obstacles does not
      require explicit behavior models.} Building a consistent and complete
      behavior model for large distributed systems with many complex states and
      parallelism is often quite challenging. Our monitoring technique does not
      require such model to be provided.
    
      \item {\it Our approach supports traceability to system's goals.}
      Decision criteria for countermeasure selection and system adaptation are
      traceable to system objectives. The exception handling constructs
      document why goal revisions are required. Lastly, why such or such
      monitored information is required is documented as the predicates to be
      monitored are infered from the formal specification of the leaf obstacles
      to be monitored.
    
    \stopitemize
    
    \noindentation The current {\it limitations} of our techniques pave the way
    for future work.
  
    \startitemize
    
      \item {\it Lack of support for probabilistic goal elicitation and
      refinement.} Unlike the approach presented in \cite[Let04], there is
      currently no support for building probabilistic goal models. In
      \cite[Let04], domain-specific equations may guide the elicitation
      process; the equations components may correspond to different subgoals.
    
      \item {\it Lack of support for identification of countermeasures to
      probabilistic obstacles.} Currently, the countermeasures are identified
      using a variety of available resolution tactics \cite[Lam09] or a
      learning-based approach based on observed behaviors \cite[Alr16]. One
      might think of exploration techniques specific to probabilistic obstacles.
      
      \item {\it Countermeasures assumed to be identified at RE time.} There is
      currently no support for identifying or learning countermeasures to
      probabilistic obstacles at runtime. The proposed techniques for runtime
      system adaptation rely on a set of countermeasures identified at RE time.
      
      \item {\it Lack of support for assessment and control of agents assigned
      to probabilistic goals.} Some agents might be more reliable than others
      and different agent instances might exhibit different characteristics.
      One resolution tactic transfers responsibilities from a less reliable
      agent to a more reliable one \cite[Lam09]; such transfer is not
      considered by the techniques presented in the thesis. It is currently not
      clear how agent reliability can be precisely defined at the requirements
      level and how it impacts the obstacle assessment and control.
    
      \item {\it Optimization techniques are limited to exhaustive search.}
      Optimization techniques for highlighting the most critical obstacle
      combinations and identifying most appropriate countermeasures are not
      really worked out and compared with the brute force exhaustive search
      used in the case-studies.
    
      \item {\it The obstacle control technique soft goal contributions.} As
      seen in the IBA case study (see \in{Section}[sec:iba]), the proposed
      technique for obstacle control does not take contributions to soft goals
      into account.
    
      \item {\it The proposed techniques for obstacle assessment and control
      ignore interdependencies among obstacles and countermeasures.} A specific
      occurence of an obstacle might increase the satisfaction rate of another
      obstacle; a specific selection of countermeasures might increase the
      satisfaction rate of a set of obstacles; satisfaction rates might
      increase or decrease over time depending on whether a countemeasure is
      selected, and so forth. Unlike Dynamic Fault Trees \cite[Rui15], the
      proposed techniques here do not currently support such dynamic views.
  
    \stopitemize
  
  \page
  
	\section {Open issues and perspectives}
	
  This section discusses currently open issues and perspectives for future work.
  
  \noindent {\bf Obstacle and countermeasure identification.} Incompleteness
  detection in goal and obstacle models at runtime could improve the obstacle
  identification step. The monitoring of high-level goals and obstacles might
  highlight obstacles that were overlooked. This might be achieved by comparing
  the computed goal satisfaction rates obtained by up-propagation with the
  monitored ones. This appears to be a promising approach for highlighting
  behavior traces exposing unknown obstacles or countermeasures. Such work
  could be integrated with learning obstacles and countermeasures from observed
  traces \cite[Alr12,Alr16] or from an executable specification \cite[Ram12].
  
  It is common for risk analysis to be performed once during system analysis
  without being updated as the software evolves. The risk analysis may quickly
  become obsolete, incomplete and inadequate. Previous research efforts show
  that missing requirements may be detected during architectural design
  \cite[Nus01] or during testing \cite[Lut03]. Integrating architectural
  design, testing and risk analysis could continuously ensure that the software
  system covers the identified risks, and that the risk analysis remains
  adequate, precise, complete, and consistent with regard to the evolving
  system. Requirements-driven \cite[Raj08,Wha06] and risk-driven testing
  \cite[Erd14,Red05,Klo11] approaches appear in particular to be a promising
  direction.
  
  \noindent {\bf Dynamic obstacle models.} Some of the techniques behind
  Dynamic Fault Trees \cite[Rui15] might improve the expressiveness and
  accuracy of probabilistic goal/obstacle models. How probabilistic goals and
  obstacles with a high-level of interdepency may be elicited, modeled, and
  analyzed remain an open question to us.
  
  \noindent {\bf Obstacle-driven design.} Our approach is focused on
  determining whether the required satisfaction rate of high-level goals are
  met, given the estimated satisfaction rates of leaf obstacles. Another type
  of analysis would include the following reverse question: what are the
  acceptable satisfaction rates of low-level obstacles given a required
  satisfaction rate of high-level goals? Parametric model checking might be
  used to answer questions on the low-level obstacles, such as \quote{\it how
  many ambulances are required to guarantee an obstacle 5\% satisfaction
  rate?}. Combining such work in the reverse direction with our proposed
  quantitative framework might answer questions on high-level goals such as
  \quote{\it how many ambulances are required to guarantee a 95\% required
  satisfaction rate of the ambulance to be timely on scene?}.
  
  \noindent {\bf Finer-grained obstacle assessment and control.} The
  satisfaction rate of obstacles depends on lowest state probabilities. All
  states are however considered equal in our approach. Some states might be
  transient and no longer visited once the system has reached stability. Our
  {\it obstacle assessemnt} technique provide coarse-grained assessments
  ignoring such situation. The following work directions might improve obstacle
  {\it assessment} and {\it control} with that respect.
  
  \startitemize
  
    \item The satisfaction rate of a goal (respectively, an obstacle) is
    currently defined as the highest (respectively, the lowest) state
    probability that the specification is satisfied. Considering instead
    highest, lowest and average state probabilities might provide finer-grained
    analysis of the system internals. In particular, this extra information
    could be used to make better decisions about which software adaptations to
    performed at runtime\emdash{}e.g., it might be worthless to trigger an
    adaptation if the state with the highest state probability to satisfy an
    obstacle condition is not visited often.
  
    \item Our approach selects countermeasures so as to minimize some
    cost. Design decisions often result from fine-grained tradeoff
    analysis involving multiple competing criteria \cite[Che06]. Refined criteria
    taking soft goals or domain-specific variables into account could lead to
    better countermeasure selections.
    
    \item A known drawback of Monte Carlo simulations is that the number of
    simulations required for obtaining accurate estimations grows in the
    presence of rare events \cite[Jeg13,Rui17]. Specific propagation procedures
    could be developed to better support rare obstacles.
  
  \stopitemize
  
  \noindent {\bf Security risk analysis.} How the proposed approach transpose
  to anti-goals \cite[Lam03], a goal-oriented form of security risk analysis,
  is an open question to us; {\it anti-goals} are a special kind of obstacle
  caused by malicious agent \cite[Lam03]. Moreover, an in-depth comparison with
  existing security-based approaches such as {\it attack trees} and {\it threat
  trees} \cite[Sch99,Hel02,Sch11], {\it UMLSec} \cite[Jur01,Jur02], {\it
  SecureUML} \cite[Lod02], {\it Abuse Case} \cite[McD99], or {\it Misuse Case}
  \cite[Sin05] could exhibit interesting technique transfer from one community
  to the other.
  
  \noindent {\bf Obstacle-driven adaptation at runtime.} The proposed approach
  for runtime adaptation might be improved in the following directions.
  
  \startitemize
  
    \item The obstacle-driven adaptation technique relies on monitoring
    satisfaction rates. However, monitoring is not always possible or
    desirable, for example, in ultra-low power systems. On-the-fly adaptations
    are not necessarily desirable in very critical safety applications where
    adaptation may make the certification of such systems hard to obtain. An
    explicit modeling of the evolution of the satisfaction rates over time
    would enable optimal countermeasure selections to be computed a priori at
    RE time for software systems where monitoring is not possible or desirable.
  
    \item Actual satisfaction rates could abruptly change Over time; the
    monitored satisfaction rates however tend to slowly reflect abrupt changes.
    Algorithms for detecting such abrupt changes, e.g.,
    \cite[Epi10,Liu13,Fil14] and filtering as proposed in \cite[Fil15] could
    improve the accuracy of monitored satisfaction rates.
  
    \item The question of \quote{when} precisely to adapt remains an open
    issue. If deploying an adaptation is cheaper than the penalty of a too
    frequent violation, it might be preferable to adapt before violation
    occurs. However, some adaptations are costly and should not be performed
    unless the violation lasts enough for the penalty to exceed the cost. In
    addition, software adaptations exhibit latencies that should be taken into
    account at RE time \cite[Cam14,Cam16]. Prediction approaches, such as
    \cite[Pol07,Mor16], appear to be a promising direction for more
    cost-effective adaptations.
  
  \stopitemize
  
\stopcomponent
